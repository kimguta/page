<!DOCTYPE html>
<html lang="ko">
<head>
	<title>타이틀</title>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="format-detection" content="telephone=no"> 
	<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0, maximum-scale=2.0, user-scalable=yes">
	<link rel="stylesheet" href="/page/common/css/fonts.css">
	<link rel="stylesheet" href="/page/common/css/common.css">
	<link rel="stylesheet" href="/page/common/css/jquery-ui.min.css">

	<script src="/page/common/js/jquery-3.6.0.min.js"></script>
	<script src="/page/common/js/jquery-ui.min.js"></script>
	<script src="/page/common/js/puble_common.js"></script>
	<script src="/page/common/js/slick.min.js"></script>
	<script src="/page/common/js/common.js"></script>

	<link rel="stylesheet" href="/page/gwcpn/css/app.css">
	<link rel="stylesheet" href="/page/gwcpn/css/sub.css">

	<script src="/page/gwcpn/js/app.js"></script>
	<script src="/page/gwcpn/js/sub.js"></script>
</head>


<body>
	<div id="wrapper" class="page-wrap">

		<ul class="skipnav"> 
			<li><a href="#A-Gnb-focus">주메뉴 바로가기</a></li>
			<li><a href="#A-Contents-focus">본문 바로가기</a></li>
			<li><a href="#A-Ftr-focus">푸터 바로가기</a></li>
		</ul>

		<header id="header" include-html="/page/gwcpn/include/header.html"></header>

		<main id="sub">

			<div id="visual-bx">
				<img src="https://picsum.photos/id/237/1920/300" alt="">
				<div>
					<h2>현재메뉴명 표시</h2>
					<div class="breadcrumb">
						<a href="#">
							<img src="/page/gwcpn/images/sub/icon-home.png" alt="홈">
						</a>
						<a href="#">
							1depth 
						</a>
						<a href="#">
							2depth 
						</a>
						<a href="#">
							3depth 
						</a>
					</div>
				</div>
			</div>
			<div id="content" class="inner">
				<div id="side-menu">
					<h2>1deth</h2>
					<ul class="depth-02">
						<li>
							<h3>
								<a href="#">
									<span>2depth</span>
								</a>
							</h3>
							<ul class="depth-03">
								<li>
									<h4>
										<a href="#">
											<span>공사</span>
										</a>
									</h4>
								</li>
								<li>
									<h4>
										<a href="#">
											<span>용역</span>
										</a>
									</h4>
								</li>
								<li>
									<h4>
										<a href="#">
											<span>물품</span>
										</a>
									</h4>
								</li>
							</ul>
						</li>
						<li>
							<h3>
								<a href="#">
									<span>2depth</span>
								</a>
							</h3>
						</li>
						<li>
							<h3>
								<a href="#">
									<span>2depth</span>
								</a>
							</h3>
							<ul class="depth-03">
								<li>
									<h4>
										<a href="#">
											<span>공사</span>
										</a>
									</h4>
								</li>
								<li>
									<h4>
										<a href="#">
											<span>용역</span>
										</a>
									</h4>
								</li>
								<li>
									<h4>
										<a href="#">
											<span>물품</span>
										</a>
									</h4>
								</li>
							</ul>
						</li>
						<li>
							<h3>
								<a href="#">
									<span>2depth</span>
								</a>
							</h3>
							<ul class="depth-03">
								<li>
									<h4>
										<a href="#">
											<span>공사</span>
										</a>
									</h4>
								</li>
								<li>
									<h4>
										<a href="#">
											<span>용역</span>
										</a>
									</h4>
								</li>
								<li>
									<h4>
										<a href="#">
											<span>물품</span>
										</a>
									</h4>
								</li>
							</ul>
						</li>
					</ul>
				</div>
				<a href="#A-Contents-focus" id="A-Contents-focus" class="blind">본문 시작</a>
				<div class="contsArea skinContainer" id="contentsArea" include-html="/page/gwcpn/content/0content-ui.html">
					<!--콘텐츠 입력 -->
				</div>		
			</div>
		</main>

		<footer id="footer" class="clearfix" include-html="/page/gwcpn/include/footer.html"></footer>

		<a href="#" id="btn-top" role="button">
			<img src="/page/gwcpn/images/common/footer-top.png" alt="위로">
		</a>
	</div>
	
	<!--[d] 모달창-->
	<div class="ui-modal" style="display:none;">
		<div class="bx">
			<form>
				<h2>비밀번호확인</h2>
				<span>설명글 설명글 들어갑니다.(생략가능)</span>
				<div class="ui-flex">
					<label for="password" class="blind">비밀번호</label>
					<input type="password" id="password">
					<input type="submit" value="확인">
				</div>
				<div class="ui-flex">
					<select>
						<option>전체</option>
						<option>전체</option>
						<option>전체</option>
						<option>전체</option>
						<option>전체</option>
					</select>
					<input type="submit" value="확인">
				</div>
				<div class="ui-flex">
					<select>
						<option>전체</option>
						<option>전체</option>
						<option>전체</option>
						<option>전체</option>
						<option>전체</option>
					</select>
					<label for="password" class="blind">비밀번호</label>
					<input type="password" id="password">
				</div>
				<div class="ui-flex">
					<div>
						<input type="checkbox" id="ch01">
						<label for="ch01">춘천 춘천 춘천</label>
					</div>
					<div>
						<input type="checkbox" id="ch02">
						<label for="ch02">원주 원주 원주</label>
					</div>
					<div>
						<input type="checkbox" id="ch03">
						<label for="ch03">강릉 강릉</label>
					</div>
					<div>
						<input type="checkbox" id="ch04">
						<label for="ch04">속초 속초 속초</label>
					</div>
				</div>
				<div class="ui-flex">
					<label for="text" class="blind">텍스트</label>
					<input type="text" id="text">
				</div>
				<div class="ui-flex">
					<div>
						<input type="radio" id="male" name="gender">
						<label for="male">남성</label>
						<input type="radio" id="female" name="gender">
						<label for="female">여성</label>
					</div>
				</div>
				<div class="ui-flex">
					<input type="submit" value="확인">
				</div>
				<div class="ui-flex">
					<input type="submit" value="확인">
					<input type="submit" value="취소">
				</div>
			</form>
			<a href="#" class="close" onclick="$('.ui-modal').hide(); return false;">닫기</a>
		</div>
	</div>
	
</body>

</html>


<!--[d] 인클루드, 디자인 확인 용 개발 시 제거-->
<div class="puble-index">
	<a href="#" class="close" onclick="$('.puble-index').remove();return false;">✕</a>
	<a href="#" class="btn sub upload"></a>
	<div class="pre-view">
		<iframe id="preview-pc" src="/page/gwcpn/sub.html"></iframe>
		<iframe id="preview-mobile" src="/page/gwcpn/sub.html"></iframe>
	</div>
	<div class="view">
		<strong>
			<span>퍼블 콘텐츠 목록 <span>완료 콘텐츠 <em></em> 건</span> </span>
			<button onclick="$('.puble-index .view').hide();textChange();$('.pre-view').css('display','none');return false;">✕</button>
		</strong>
		<p><a href="/page/gwcpn/" target="_blank" onmouseover="$('.pre-view').hide();">메인페이지</a></p>

		<div></div>
	</div>
</div>


<style>
	.puble-index{position:fixed;z-index:2500;left:0;bottom:0;display:flex;flex-direction:column;align-items:flex-start;}
	.puble-index .btn{background:#111;border:1px solid #fff;z-index:10;;border-width:1px 1px 0px 0px;display:block;text-align:center;font-size:13px;line-height:1.3;padding:0px 10px;color:#fff;height:40px;line-height:40px;position:relative;z-index:2;}
	.puble-index .view{position:fixed;box-shadow:0px 0px 10px 0px rgba(0,0,0,.2);border:1px solid #fff;width:100%;max-width:500px;max-height: calc(100vh - 100px);right:0;top:0;overflow:auto;background:#111;padding:15px;display:none;}
	.puble-index .view p{display:flex;padding:5px 0;align-items:center;border-top:1px solid rgba(255,255,255,.3)}
	.puble-index .view.live p:last-child{display:none;}
	.puble-index .view a{flex:1;text-align:left;font-size:13px;color:#fff;height:26px;line-height:26px;display:flex;}
	.puble-index .view a:before{content:'-';padding-right:6px;}
	.puble-index .view a:after{content:'➜';padding-left:6px;}
	.puble-index .view strong{display:flex;font-size:15px;padding-bottom:8px;color:#fff;justify-content:space-between;}
	.puble-index .view strong span span{font-size:14px;font-weight:400;padding-left:30px;}
	.puble-index .view strong em{display:inline-block;font-size:13px;padding:0 3px 0 5px;}
	.puble-index .view .copy-html{width:67px;text-align:center;background:red;color:#fff;font-size:12px;height:26px;line-height:24px;}
	.puble-index .close{display:flex;background:#111;color:#fff;justify-content:center;align-items:center;width:22px;height:22px;border:1px solid #fff;margin-bottom:-1px;font-size:13px;}
	.puble-index .pre-view{transform:translateY(-50%) scale(.63);position:fixed;left:20px;top:50%;display:flex;align-items:flex-start;display:none;z-index:-1;transform-origin:0% 50%;}
	.puble-index .pre-view:before{content:'';display:block;position:fixed;background:rgba(0,0,0,.7);top:0;left:0;right:0;bottom:0;z-index:-1;transform:scale(2);}
	#preview-pc{width:1600px;height:938px;background:#fff;box-shadow:0px 0px 15px 0px rgba(0,0,0,.2);border:8px solid #111}
	#preview-mobile{width:414px;height:736px;background:#fff;margin-left:130px;transform:scale(1.275);transform-origin:100% 0%;box-shadow:0px 0px 15px 0px rgba(0,0,0,.2);border:6px solid #111}
	html.view-mode::-webkit-scrollbar{display:none;}
	html.view-mode .puble-index{display:none !important}
	
	@media (max-width:1399px) {
		.puble-index .btn{font-size:13px;padding:0px 5px;color:#fff;height:34px;line-height:34px;}
		.puble-index .close{width:18px;height:18px;margin-bottom:-1px;font-size:10px;}
		.puble-index .pre-view{display:none !important}
	}
</style>
	
<script>
	function subScript(){	
		setTimeout(function() {
				var SubOption = {
				autoplay: false,
				arrows: true,
				accessibility: false,
				dots:true,
				prevArrow: $('.boGalleryView .boGalleryView-btnPrev'),
				nextArrow: $('.boGalleryView .boGalleryView-btnNext'),
				draggable: true,
				infinite: true,
				slidesToShow: 1,
				slidesToScroll: 1,
				pauseOnHover: false,
				speed: 600,
				adaptiveHeight: true,
			};
			initSlick($('.boGalleryView .boGalleryView-view'), SubOption);	
		}, 2000);
		p_ctrlFiles();
		p_dataPicker();
		appScript();
	};
	$(function(){
		includeLayout();
		textChange();
		var pageUrl = $(location).attr('href');
		if (pageUrl.match("git")){
			$.ajax({	
				url: "https://api.github.com/repos/kimguta/page/contents/gwcpn/content",
				success: function (data) {
					for (var i = 0; i < data.length; i++) {
						$('.puble-index .view div').append('<p><a href="/page/gwcpn/content/'+data[i].name+'">'+ data[i].name +'</a><button class="copy-html">HTML복사</button></p>');
					}
				},
			});
		}
		else{
			$.ajax({	
				url: "/page/gwcpn/content/list.txt",
				dataType:"text",
				success: function (data) {
					var dataArr = data.split("\n");
					for (var i = 0; i < dataArr.length; i++) {
						$('.puble-index .view div').append('<p><a href="/page/gwcpn/content/'+dataArr[i]+'">'+ dataArr[i] +'</a><button class="copy-html">HTML복사</button></p>');
						$('.puble-index .view').addClass('live');
					}
				},
			});
		};
	});

	function countContent(){
		var pageUrl = $(location).attr('href');
		if (pageUrl.match("git")){
			var count = $('.puble-index .view div p').length;
		}
		else{
			var count = $('.puble-index .view div p').length - 1;
		}
		$('.puble-index .view strong em').text(count);
	};	

	function includeLayout(){
		var includeArea = $("[include-html]");
		var self, url;
		$.each(includeArea, function() {
			self = $(this);
			url = self.attr("include-html");
			self.load(url, function(){
				$("[include-html]").removeAttr("include-html");
				contentScript();
				subScript();
			});
		});
		// $.getScript('/page/basic/js/sub.js');
	};

	function textChange(){
		var text = $('.puble-index .sub').text();
		if(text == '콘텐츠목록열기'){
			$('.puble-index .sub').text('콘텐츠목록닫기');
		}else{
			$('.puble-index .sub').text('콘텐츠목록열기');
		}
	}; 

	$(document).on({
		'click': function(e) { 
			e.preventDefault();
			$('.puble-index .view').toggle();
			$(".pre-view").css('display','none');
			textChange();
			countContent();
		}
	}, '.puble-index .sub')
	.on({
		'click': function(e) { 
			e.preventDefault();
			$(".pre-view").css('display','none');
			var contUrl = $(this).attr('href');
			$('.contsArea').attr('include-html', contUrl);
			includeLayout();
			$('.puble-index .view').hide();
			textChange();
		},
		'mouseover': function(e) { 
			e.preventDefault();
			$(".pre-view").css('display','flex');
			var contUrl = $(this).attr('href');
			$("iframe").contents().find('.contsArea').attr('include-html', contUrl);
			$("iframe").contents().find('html').addClass('view-mode');
			$("iframe")[0].contentWindow.includeLayout();
			$("iframe")[1].contentWindow.includeLayout();
		}
	}, '.puble-index .view div a')
	.on({
		'click': function(e) { 
			e.preventDefault();
			var contUrl2 = $(this).prev('a').attr('href');
			var fileName = $(this).prev('a').text();
			$.ajax({
				url : contUrl2,
				success : function(result) {
					$('.puble-index').append('<textarea class="copy-bx"></textarea>')
					$('.puble-index .copy-bx').text(result).select();
					document.execCommand('copy');
					$('.puble-index .copy-bx').remove();
					alert(fileName+'복사');
				}
			});
		}
	}, '.puble-index .view .copy-html');
	
</script>
<!--//[d] 인클루드, 디자인 확인 용 개발 시 제거-->



